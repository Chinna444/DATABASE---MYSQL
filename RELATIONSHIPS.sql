CREATE  DATABASE RELATIONS

USE RELATIONS

---- ONE TO ONE REALATIONSHIP ----
--- STUDENT AND COURSE TABLES ONE STUDENT CAN ONLY TAKE ONE COURSE ----

CREATE TABLE  STUDENT(
	ID INT  PRIMARY KEY AUTO_INCREMENT,
	FIRST_NAME VARCHAR(100) NOT NULL,
	LAST_NAME VARCHAR(100) NOT NULL,
	MOBILE BIGINT UNIQUE )

INSERT INTO STUDENT VALUES(111,"MANOJ","VANAPARTHY",8106444512)
INSERT INTO STUDENT(FIRST_NAME,LAST_NAME,MOBILE) VALUES("RAVI","SIRANGI",99489896),("HARI","VARDINENI",6342005623),("RAVI","REDDY",9345646896)

SELECT * FROM STUDENT

CREATE TABLE COURSE(
	ST_ID INT PRIMARY KEY,
    COURSE_NAME VARCHAR(100) NOT NULL DEFAULT "JAVA",
    COURSE_ID INT UNIQUE ,
    
      ---- FOREIGN KEY MAKES RELATIONSHIP BETWEEN STUDENT AND COURSE TABLE REFERENCE BY ID ----
    FOREIGN KEY(ST_ID) REFERENCES STUDENT(ID))
    
    INSERT INTO COURSE VALUES(111,"JAVA FULL STACK",1122),(112,"PYTHON FULL STACK",1133),(113,"DEVOPS",2233)
    INSERT INTO COURSE VALUES(114,".NET",332255)
    
    ---- CANNOT ADD THIS ROW BECOUSE FOREIGN KEY CONSTRAINT FAILS ----
    INSERT INTO COURSE VALUES(115,".NET",3355)
    SELECT * FROM COURSE
    
    
    ---- ONE TO MANY RELATIONSHIP ----
    ---- CUSTOMERS AND ORDERS TABLE ONE CUSTOMER HAVE MANY ORDERS ----
    
    CREATE TABLE CUSTOMERS_DETAILS(
		C_ID INT PRIMARY KEY,
        C_NAME VARCHAR(100),
        MOBILE BIGINT)
    INSERT INTO CUSTOMERS_DETAILS VALUES(1001,"MANOJ",8106444512),(1002,"HARI",8106444325),(1003,"KUMAR",9948989684),(1004,"GANESH",736852512)
    SELECT * FROM CUSTOMERS_DETAILS
    
    CREATE TABLE ORDERS_DETAILS( 
		ORDER_ID INT PRIMARY KEY,
        PRICE INT NOT NULL,
        STATUS VARCHAR(100) NOT NULL DEFAULT "SHIPPED",
        CUSTOMER_ID INT,
        
        FOREIGN KEY(CUSTOMER_ID) REFERENCES CUSTOMERS_DETAILS(C_ID))
        
        INSERT INTO ORDERS_DETAILS VALUES(1122,5000,"PLACED",1001),(1123,45000,"SHIPPED",1002),(1124,32000,"SHIPPED",1001),(1125,6600,"PLACED",1003),
										 (1126,73000,"SHIPPED",1003),(112,5400,"PLACED",1004)
        
        SELECT * FROM ORDERS_DETAILS
        
        
        
        
        ---- MANY TO MANY ---
        ---- EMPLOYEES AND CERTIFICATES TABLE 1 EMPLOYEE CAN DO MANY CERTIFICATES AND 1 CERTIFICATE DONE BY MANY EMPLOYEES ----
        
	CREATE TABLE EMPLOYEES(
		E_ID INT PRIMARY KEY,
        E_NAME VARCHAR(100),
        E_MOBILE BIGINT)
        
	INSERT INTO EMPLOYEES VALUES(101,"MANOJ",8106444512),(102,"HARI",9948989684),(103,"RAVI",6345211003)
    
    CREATE TABLE CERTIFICATES(
		C_ID INT PRIMARY KEY,
        C_NAME VARCHAR(100),
        DURATION VARCHAR(100))
        
	INSERT INTO CERTIFICATES VALUES(222,"JAVA","3MONTHS"),(333,"PYTHON","4MONTHS"),(444,"C++","3MONTHS"),(555,"DEVOPS","3MONTHS")
    
    
    CREATE TABLE EMPLOYEE__CERTIFICATES(
		E_ID INT,
        C_ID INT,
        FOREIGN KEY(E_ID) REFERENCES EMPLOYEES(E_ID),
        FOREIGN KEY(C_ID) REFERENCES CERTIFICATES(C_ID))
    
    INSERT INTO EMPLOYEE__CERTIFICATES VALUES(101,222),(101,333),(101,555),(102,222),(102,555),(103,333),(103,444)
	
SELECT * FROM EMPLOYEE__CERTIFICATES
    
    
    
    
    
    
    
        
        
        
        
        
        
        
        
    